[{"type":"text","text":"## Enhanced CLAUDE.md with semantic naming guidelines and evergreen context reminder\n*Source: claude-mem://observation/10389*\n\n**Development documentation updated with LLM-focused naming conventions and context management best practices.**\n\nThe CLAUDE.md development documentation was enhanced with two significant additions. First, a header comment was added reminding Claude to keep only evergreen context in the file, since claude-mem handles working context separately. Second, a new coding principle (#6) was added establishing semantic naming as a core practice: all variables, parameters, and API endpoints should use verbose, self-documenting names that optimize for comprehension by both humans and LLMs rather than brevity. The example provided contrasts `wait_until_obs_is_saved=true` with the overly terse `wait=true`. Additionally, the database migration strategy documentation was refined to clarify the distinction between alpha phase behavior (schema recreation) and future production requirements (proper migration handling). These changes reflect the project's commitment to LLM-friendly code and clear separation between working and evergreen context.\n\n---\nType: change | Facts: Added header comment instructing Claude to maintain only evergreen context in CLAUDE.md; New coding principle #6 mandates semantic naming optimized for human and LLM comprehension over brevity; Semantic naming example provided: `wait_until_obs_is_saved=true` preferred over `wait=true`; Database migration strategy documentation clarified for alpha vs production phases; Documentation emphasizes verbose, self-documenting names for variables, parameters, and API endpoints | Concepts: what-changed, pattern, why-it-exists | Files: CLAUDE.md\n\n---\nDate: 11/17/2025, 3:45:08 PM\n\n---\n\n## Improved Documentation Clarity for Database Migration Strategy\n*Source: claude-mem://observation/10387*\n\n**Refined migration strategy documentation from TODO item to clear phase-based statement about production requirements.**\n\nThe database schema modification documentation in CLAUDE.md was revised to improve clarity and remove TODO-style language. The previous version used separate numbered items for the current migration strategy and a future TODO, which created ambiguity about the project's maturity and requirements. The updated version consolidates this into a single, clear statement that explicitly describes the current alpha-phase approach (database recreation on schema changes) while acknowledging the future requirement for proper migration handling in production deployments. This change makes the documentation more evergreen and professional while maintaining the same technical information.\n\n---\nType: change | Facts: CLAUDE.md database schema section was updated to improve documentation clarity; Removed TODO item \"Add proper migrations for production\" from schema modification steps; Consolidated migration strategy from two lines into one clear statement describing alpha and production phases; New wording clarifies that database recreation is acceptable for alpha phase while production deployments will require proper migration handling | Concepts: what-changed, why-it-exists | Files: CLAUDE.md\n\n---\nDate: 11/17/2025, 3:42:03 PM\n\n---\n\n## Database Schema Modification Process and Worker Debugging Procedures\n*Source: claude-mem://observation/10386*\n\n**Documentation review revealed schema update workflow and worker troubleshooting commands for claude-mem plugin.**\n\nThe CLAUDE.md documentation file was reviewed, revealing critical operational procedures for the claude-mem plugin. The database schema modification process requires coordinated updates across the schema definition file and data access classes, with a known TODO item to implement proper migrations before production. Worker process management relies on pm2 with custom npm scripts for monitoring, restarting, and force-cleaning the worker. The local development cycle follows a build-and-sync pattern to test changes. Additionally, the documentation clarifies that smart-install.js serves as a dependency checker that precedes the context-hook rather than being a hook itself.\n\n---\nType: discovery | Facts: Schema modifications require updates in src/services/sqlite/schema.ts and SessionStore/SessionSearch classes; The plugin currently recreates database on schema changes, which is acceptable for alpha but needs proper migrations for production; Worker debugging uses pm2 commands including list, worker:logs, worker:restart, and delete claude-mem-worker for clean restart; Local testing workflow involves making changes in src/, then running npm run build && npm run sync-marketplace; smart-install.js is a pre-hook dependency checker that runs before context-hook via command chaining, not a hook itself | Concepts: how-it-works, pattern, gotcha | Files: CLAUDE.md\n\n---\nDate: 11/17/2025, 3:41:50 PM\n\n---\n\n## Issue 121 Documents SQLite Database Migration Bug in Plugin v6.0.5\n*Source: claude-mem://observation/10286*\n\n**Plugin v6.0.5 broke with missing discovery_tokens column in SQLite database schema**\n\nIssue 121 documents a critical bug introduced in plugin version 6.0.5 where the plugin fails to start due to a missing database column. The error trace shows that when the context-hook.js script attempts to prepare a SQL statement, it fails because the discovery_tokens column does not exist in the SQLite database schema. This appears to be a database migration that was not properly executed during the upgrade to version 6.0.5, causing the plugin to crash on startup and preventing users from loading the context display functionality.\n\n---\nType: discovery | Facts: Issue 121 titled \"6.0.5 - broke the plugin - looks like a db migration miss\" reports plugin failure; SqliteError occurs at Database.prepare() with message \"no such column: discovery_tokens\"; Error originates in context-hook.js at line 400:1864 within the thedotmack marketplace plugin; Plugin hook error prevents context display from loading successfully | Concepts: problem-solution, what-changed, gotcha\n\n---\nDate: 11/17/2025, 2:45:15 PM\n\n---\n\n## Hotfix Release Announced on GitHub Issue #121\n*Source: claude-mem://observation/10202*\n\n**Release notification posted to issue tracker informing users of v6.0.7 availability and upgrade instructions.**\n\nA comment was posted on GitHub issue #121 announcing the release of v6.0.7 hotfix to the users who reported the database migration error. The announcement includes a link to the GitHub Release page with full details, upgrade instructions for both fresh and existing installations, and acknowledgment of the users' detailed error reports. The comment explains that fresh installations will work correctly, and existing installations can either manually add the missing columns or delete the database to trigger recreation. By posting this directly on the issue, the notification reaches the original issue reporters and provides them with clear path-forward instructions. This closes the communication loop between the development team and users affected by the bug.\n\n---\nType: change | Facts: GitHub issue comment posted at 2025-11-17T18:47:53.434Z on issue #121.; Comment URL: https://github.com/thedotmack/claude-mem/issues/121#issuecomment-3543383965.; Comment announces v6.0.7 hotfix release with link to GitHub Release page.; Upgrade instructions provided for both fresh and existing installations.; Comment acknowledges user reports and thanks for detailed error logs.; Instructions direct users to either manually add columns or delete/recreate database.; Comment requests users to close issue or report if problems persist. | Concepts: what-changed, problem-solution\n\n---\nDate: 11/17/2025, 1:47:58 PM"}]